{
  "id": "8da53d6c-5971-48da-8ceb-cc1adf7ec1a2",
  "prevId": "7a333748-239d-4846-b678-3dd34d20062f",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.app_users": {
      "name": "app_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "auth_provider": {
          "name": "auth_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_subject": {
          "name": "auth_subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "app_users_provider_subject_uq": {
          "name": "app_users_provider_subject_uq",
          "columns": [
            {
              "expression": "auth_provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "auth_subject",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.industries": {
      "name": "industries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "industries_key_idx": {
          "name": "industries_key_idx",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.industry_sub_industries": {
      "name": "industry_sub_industries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "industry_key": {
          "name": "industry_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1000
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "industry_sub_industries_industry_key_idx": {
          "name": "industry_sub_industries_industry_key_idx",
          "columns": [
            {
              "expression": "industry_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "industry_sub_industries_industry_key_key_uq": {
          "name": "industry_sub_industries_industry_key_key_uq",
          "columns": [
            {
              "expression": "industry_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "industry_sub_industries_sort_idx": {
          "name": "industry_sub_industries_sort_idx",
          "columns": [
            {
              "expression": "industry_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sort_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.platform_config": {
      "name": "platform_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ai_quoting_enabled": {
          "name": "ai_quoting_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "ai_rendering_enabled": {
          "name": "ai_rendering_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "maintenance_enabled": {
          "name": "maintenance_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "maintenance_message": {
          "name": "maintenance_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.platform_users": {
      "name": "platform_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "platform_role": {
          "name": "platform_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'readonly'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "platform_users_user_uq": {
          "name": "platform_users_user_uq",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "platform_users_role_idx": {
          "name": "platform_users_role_idx",
          "columns": [
            {
              "expression": "platform_role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "platform_users_user_id_app_users_id_fk": {
          "name": "platform_users_user_id_app_users_id_fk",
          "tableFrom": "platform_users",
          "tableTo": "app_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quote_logs": {
      "name": "quote_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "qa": {
          "name": "qa",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "qa_status": {
          "name": "qa_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "qa_asked_at": {
          "name": "qa_asked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "qa_answered_at": {
          "name": "qa_answered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "render_opt_in": {
          "name": "render_opt_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "render_status": {
          "name": "render_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_requested'"
        },
        "render_image_url": {
          "name": "render_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "render_prompt": {
          "name": "render_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "render_error": {
          "name": "render_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rendered_at": {
          "name": "rendered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "stage": {
          "name": "stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quote_logs_tenant_id_tenants_id_fk": {
          "name": "quote_logs_tenant_id_tenants_id_fk",
          "tableFrom": "quote_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_audit_log": {
      "name": "tenant_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_clerk_user_id": {
          "name": "actor_clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_email": {
          "name": "actor_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_ip": {
          "name": "actor_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_audit_log_tenant_id_idx": {
          "name": "tenant_audit_log_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_audit_log_action_idx": {
          "name": "tenant_audit_log_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_audit_log_created_at_idx": {
          "name": "tenant_audit_log_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_audit_log_tenant_id_tenants_id_fk": {
          "name": "tenant_audit_log_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_audit_log",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_email_identities": {
      "name": "tenant_email_identities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "scopes": {
          "name": "scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_email": {
          "name": "from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_enc": {
          "name": "refresh_token_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_email_identities_tenant_id_idx": {
          "name": "tenant_email_identities_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_email_identities_uq": {
          "name": "tenant_email_identities_uq",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_email_identities_tenant_id_tenants_id_fk": {
          "name": "tenant_email_identities_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_email_identities",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_members": {
      "name": "tenant_members",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_members_tenant_clerk_user_uq": {
          "name": "tenant_members_tenant_clerk_user_uq",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_members_tenant_id_idx": {
          "name": "tenant_members_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_members_clerk_user_id_idx": {
          "name": "tenant_members_clerk_user_id_idx",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_members_role_idx": {
          "name": "tenant_members_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_members_status_idx": {
          "name": "tenant_members_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_members_tenant_id_tenants_id_fk": {
          "name": "tenant_members_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_members",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_onboarding": {
      "name": "tenant_onboarding",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_analysis": {
          "name": "ai_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_step": {
          "name": "current_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_onboarding_completed_idx": {
          "name": "tenant_onboarding_completed_idx",
          "columns": [
            {
              "expression": "completed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_onboarding_step_idx": {
          "name": "tenant_onboarding_step_idx",
          "columns": [
            {
              "expression": "current_step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_onboarding_tenant_id_tenants_id_fk": {
          "name": "tenant_onboarding_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_onboarding",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_pricing_rules": {
      "name": "tenant_pricing_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "min_job": {
          "name": "min_job",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "typical_low": {
          "name": "typical_low",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "typical_high": {
          "name": "typical_high",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_without_inspection": {
          "name": "max_without_inspection",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tone": {
          "name": "tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'value'"
        },
        "risk_posture": {
          "name": "risk_posture",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'conservative'"
        },
        "always_estimate_language": {
          "name": "always_estimate_language",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_pricing_rules_tenant_id_tenants_id_fk": {
          "name": "tenant_pricing_rules_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_pricing_rules",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_secrets": {
      "name": "tenant_secrets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "openai_key_enc": {
          "name": "openai_key_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_secrets_tenant_id_tenants_id_fk": {
          "name": "tenant_secrets_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_secrets",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_settings": {
      "name": "tenant_settings",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "industry_key": {
          "name": "industry_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "redirect_url": {
          "name": "redirect_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thank_you_url": {
          "name": "thank_you_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "business_name": {
          "name": "business_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_to_email": {
          "name": "lead_to_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resend_from_email": {
          "name": "resend_from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "brand_logo_url": {
          "name": "brand_logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "brand_logo_variant": {
          "name": "brand_logo_variant",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_send_mode": {
          "name": "email_send_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_identity_id": {
          "name": "email_identity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ai_mode": {
          "name": "ai_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_enabled": {
          "name": "pricing_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_model": {
          "name": "pricing_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "flat_rate_default": {
          "name": "flat_rate_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hourly_labor_rate": {
          "name": "hourly_labor_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "material_markup_percent": {
          "name": "material_markup_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "per_unit_rate": {
          "name": "per_unit_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "per_unit_label": {
          "name": "per_unit_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "package_json": {
          "name": "package_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "line_items_json": {
          "name": "line_items_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "assessment_fee_amount": {
          "name": "assessment_fee_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "assessment_fee_credit_toward_job": {
          "name": "assessment_fee_credit_toward_job",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "rendering_enabled": {
          "name": "rendering_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "rendering_style": {
          "name": "rendering_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rendering_notes": {
          "name": "rendering_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rendering_max_per_day": {
          "name": "rendering_max_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rendering_customer_opt_in_required": {
          "name": "rendering_customer_opt_in_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "ai_rendering_enabled": {
          "name": "ai_rendering_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "live_qa_enabled": {
          "name": "live_qa_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "live_qa_max_questions": {
          "name": "live_qa_max_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "reporting_timezone": {
          "name": "reporting_timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "week_starts_on": {
          "name": "week_starts_on",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "plan_tier": {
          "name": "plan_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "monthly_quote_limit": {
          "name": "monthly_quote_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "activation_grace_credits": {
          "name": "activation_grace_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "activation_grace_used": {
          "name": "activation_grace_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "plan_selected_at": {
          "name": "plan_selected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_settings_tenant_id_tenants_id_fk": {
          "name": "tenant_settings_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_settings",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_sub_industries": {
      "name": "tenant_sub_industries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "industry_key": {
          "name": "industry_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_sub_industries_tenant_id_industry_key_key_uq": {
          "name": "tenant_sub_industries_tenant_id_industry_key_key_uq",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "industry_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_sub_industries_tenant_id_industry_key_idx": {
          "name": "tenant_sub_industries_tenant_id_industry_key_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "industry_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_sub_industries_tenant_id_idx": {
          "name": "tenant_sub_industries_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_sub_industries_tenant_id_tenants_id_fk": {
          "name": "tenant_sub_industries_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_sub_industries",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "owner_clerk_user_id": {
          "name": "owner_clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "archived_reason": {
          "name": "archived_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenants_slug_idx": {
          "name": "tenants_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenants_status_idx": {
          "name": "tenants_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenants_owner_user_id_app_users_id_fk": {
          "name": "tenants_owner_user_id_app_users_id_fk",
          "tableFrom": "tenants",
          "tableTo": "app_users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}